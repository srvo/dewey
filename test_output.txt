2025-03-17 04:02:31,220 - __main__ - INFO - Starting enrichment tests...
2025-03-17 04:02:31,220 - __main__ - INFO - Testing MotherDuck connection
2025-03-17 04:02:32,216 - __main__ - ERROR - MotherDuck connection error: Invalid Input Error: Initialization function "motherduck_init" from file "/Users/srvo/.duckdb/extensions/v1.2.1/osx_arm64/motherduck.duckdb_extension" threw an exception: "Initialization function "motherduck_init" from file "/Users/srvo/.duckdb/extensions/v1.2.1/osx_arm64/motherduck.v1.2.1-2025-03-121.duckdb_extension" threw an exception: "Failed to attach 'dewey_emails': no database/share named 'dewey_emails' found""
2025-03-17 04:02:32,216 - __main__ - INFO - Connecting to local database at: /Users/srvo/dewey_emails.duckdb
2025-03-17 04:02:32,222 - __main__ - ERROR - Local database connection error: IO Error: Could not set lock on file "/Users/srvo/dewey_emails.duckdb": Conflicting lock is held in /Users/srvo/.local/share/uv/python/cpython-3.12.9-macos-aarch64-none/bin/python3.12 (PID 62600) by user srvo. See also https://duckdb.org/docs/connect/concurrency
2025-03-17 04:02:32,222 - __main__ - INFO - Trying test database at: /Users/srvo/dewey_test.duckdb
2025-03-17 04:02:32,229 - __main__ - INFO - Test database connection successful!
2025-03-17 04:02:32,229 - __main__ - INFO - Available tables in test database:
2025-03-17 04:02:32,241 - __main__ - INFO - - test_table
2025-03-17 04:02:32,242 - __main__ - INFO - Using test database for testing
2025-03-17 04:02:32,242 - __main__ - INFO - Testing imports...
2025-03-17 04:02:32,269 - __main__ - INFO - Mocked module: database
2025-03-17 04:02:32,269 - __main__ - INFO - Mocked module: database.models
2025-03-17 04:02:32,270 - __main__ - INFO - Mocked module: django
2025-03-17 04:02:32,270 - __main__ - INFO - Mocked module: django.db
2025-03-17 04:02:32,270 - __main__ - INFO - Mocked module: django.db.transaction
2025-03-17 04:02:32,270 - __main__ - INFO - Mocked module: django.utils
2025-03-17 04:02:32,270 - __main__ - INFO - Mocked module: django.utils.timezone
2025-03-17 04:02:32,270 - __main__ - INFO - Found email_enrichment_service.py at /Users/srvo/dewey/src/dewey/core/crm/enrichment/email_enrichment_service.py
2025-03-17 04:02:32,313 - __main__ - ERROR - Failed to import EmailEnrichmentService: attempted relative import with no known parent package
2025-03-17 04:02:32,313 - __main__ - INFO - Skipping EmailEnrichmentService test
2025-03-17 04:02:32,314 - __main__ - INFO - Found contact_enrichment.py at /Users/srvo/dewey/src/dewey/core/crm/enrichment/contact_enrichment.py
2025-03-17 04:02:32,316 - __main__ - ERROR - Failed to import contact_enrichment: No module named 'scripts.config'
2025-03-17 04:02:32,316 - __main__ - INFO - Skipping contact_enrichment test
2025-03-17 04:02:32,316 - __main__ - INFO - Found opportunity_detection.py at /Users/srvo/dewey/src/dewey/core/crm/enrichment/opportunity_detection.py
2025-03-17 04:02:32,334 - __main__ - INFO - opportunity_detection module imported successfully via file path
2025-03-17 04:02:32,334 - __main__ - INFO - Import tests completed with some modules successfully imported
2025-03-17 04:02:32,334 - __main__ - INFO - All tests passed!
This script was run directly
Test completed successfully!
